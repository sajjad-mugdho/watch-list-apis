{"numFailedTestSuites":1,"numFailedTests":3,"numPassedTestSuites":12,"numPassedTests":223,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":13,"numTotalTests":226,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1764972570391,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Errors util functions","mapFailureCode"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Errors util functions mapFailureCode returns mapped message for known code","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972579438,"status":"passed","title":"returns mapped message for known code"},{"ancestorTitles":["Errors util functions","mapFailureCode"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Errors util functions mapFailureCode returns fallback message if code unknown and fallback is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972579444,"status":"passed","title":"returns fallback message if code unknown and fallback is provided"},{"ancestorTitles":["Errors util functions","mapFailureCode"],"duration":4,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"SOME_CODE\"\u001b[39m\nReceived string:    \u001b[31m\"Payment failed\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"SOME_CODE\"\u001b[39m\nReceived string:    \u001b[31m\"Payment failed\"\u001b[39m\n    at Object.<anonymous> (/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/errors.test.ts:19:19)\n    at Promise.finally.completed (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-runner/build/index.js:343:7)"],"fullName":"Errors util functions mapFailureCode returns \"Payment failed: CODE\" when unknown code and no fallback","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972579447,"status":"failed","title":"returns \"Payment failed: CODE\" when unknown code and no fallback"},{"ancestorTitles":["Errors util functions","getStatusCode"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Errors util functions getStatusCode returns 403 for FRAUD_DETECTED","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972579466,"status":"passed","title":"returns 403 for FRAUD_DETECTED"},{"ancestorTitles":["Errors util functions","getStatusCode"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Errors util functions getStatusCode returns 400 for INVALID_CVV","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972579469,"status":"passed","title":"returns 400 for INVALID_CVV"},{"ancestorTitles":["Errors util functions","getStatusCode"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Errors util functions getStatusCode returns 402 for unknown codes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972579471,"status":"passed","title":"returns 402 for unknown codes"},{"ancestorTitles":["Errors util functions","fromFinixResponse"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Errors util functions fromFinixResponse parses embedded authorization failure and creates PaymentError","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972579474,"status":"passed","title":"parses embedded authorization failure and creates PaymentError"},{"ancestorTitles":["Errors util functions","fromFinixResponse"],"duration":2,"failing":false,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Insufficient funds (R01)\"\u001b[39m\nReceived string:    \u001b[31m\"Insufficient funds in bank account. Payment was returned.\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Insufficient funds (R01)\"\u001b[39m\nReceived string:    \u001b[31m\"Insufficient funds in bank account. Payment was returned.\"\u001b[39m\n    at Object.<anonymous> (/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/errors.test.ts:86:26)\n    at Promise.finally.completed (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-runner/build/index.js:343:7)"],"fullName":"Errors util functions fromFinixResponse parses embedded transfer failure and creates PaymentError","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972579476,"status":"failed","title":"parses embedded transfer failure and creates PaymentError"},{"ancestorTitles":["Errors util functions","fromFinixResponse"],"duration":8,"failing":false,"failureDetails":[{"matcherResult":{"actual":"DECLINED","expected":"FRAUD_DETECTED","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"\u001b[7mFRAUD_DETECT\u001b[27mED\"\u001b[39m\nReceived: \u001b[31m\"\u001b[7mDECLIN\u001b[27mED\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"\u001b[7mFRAUD_DETECT\u001b[27mED\"\u001b[39m\nReceived: \u001b[31m\"\u001b[7mDECLIN\u001b[27mED\"\u001b[39m\n    at Object.<anonymous> (/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/errors.test.ts:104:31)\n    at Promise.finally.completed (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)\n    at _callCircusTest (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:947:3)\n    at /home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:857:11)\n    at run (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)\n    at jestAdapter (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/home/sajjad-mugdho/Downloads/dialist-api-main/node_modules/jest-runner/build/index.js:343:7)"],"fullName":"Errors util functions fromFinixResponse parses embedded errors array","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972579479,"status":"failed","title":"parses embedded errors array"}],"endTime":1764972579662,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mErrors util functions › mapFailureCode › returns \"Payment failed: CODE\" when unknown code and no fallback\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"SOME_CODE\"\u001b[39m\n    Received string:    \u001b[31m\"Payment failed\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 17 |\u001b[39m       \u001b[36mconst\u001b[39m code \u001b[33m=\u001b[39m \u001b[32m'SOME_CODE'\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 18 |\u001b[39m       \u001b[36mconst\u001b[39m msg \u001b[33m=\u001b[39m \u001b[33mPaymentError\u001b[39m\u001b[33m.\u001b[39mmapFailureCode(code)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 19 |\u001b[39m       expect(msg)\u001b[33m.\u001b[39mtoContain(code)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 20 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 21 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 22 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/errors.test.ts\u001b[39m\u001b[0m\u001b[2m:19:19)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mErrors util functions › fromFinixResponse › parses embedded transfer failure and creates PaymentError\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"Insufficient funds (R01)\"\u001b[39m\n    Received string:    \u001b[31m\"Insufficient funds in bank account. Payment was returned.\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 84 |\u001b[39m       expect(pe\u001b[33m.\u001b[39mfailure_code)\u001b[33m.\u001b[39mtoBe(\u001b[32m'R01'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 85 |\u001b[39m       expect(pe\u001b[33m.\u001b[39mfailure_message)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Insufficient funds (R01)'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 86 |\u001b[39m       expect(pe\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Insufficient funds (R01)'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 87 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 88 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 89 |\u001b[39m     it(\u001b[32m'parses embedded errors array'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/errors.test.ts\u001b[39m\u001b[0m\u001b[2m:86:26)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mErrors util functions › fromFinixResponse › parses embedded errors array\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"\u001b[7mFRAUD_DETECT\u001b[27mED\"\u001b[39m\n    Received: \u001b[31m\"\u001b[7mDECLIN\u001b[27mED\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 102 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 103 |\u001b[39m       \u001b[36mconst\u001b[39m pe \u001b[33m=\u001b[39m \u001b[33mPaymentError\u001b[39m\u001b[33m.\u001b[39mfromFinixResponse(mockError)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 104 |\u001b[39m       expect(pe\u001b[33m.\u001b[39mfailure_code)\u001b[33m.\u001b[39mtoBe(\u001b[32m'FRAUD_DETECTED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 105 |\u001b[39m       expect(pe\u001b[33m.\u001b[39mfailure_message)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Blocked for fraud'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 106 |\u001b[39m       expect(pe\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Blocked for fraud'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 107 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/errors.test.ts\u001b[39m\u001b[0m\u001b[2m:104:31)\u001b[22m\u001b[2m\u001b[22m\n","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/errors.test.ts","startTime":1764972570843,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Finix Utility Functions - Unit Tests","createBuyerIdentity"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createBuyerIdentity should create a buyer identity with full details","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972582148,"status":"passed","title":"should create a buyer identity with full details"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createBuyerIdentity"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createBuyerIdentity should create a blank buyer identity","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972582169,"status":"passed","title":"should create a blank buyer identity"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createBuyerIdentity"],"duration":160,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createBuyerIdentity should handle Finix API errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972582176,"status":"passed","title":"should handle Finix API errors"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createOnboardingForm"],"duration":3355,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createOnboardingForm should include idempotency header when creating onboarding form","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972582337,"status":"passed","title":"should include idempotency header when creating onboarding form"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","provisionMerchant"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests provisionMerchant should include idempotency headers on payment_instruments and merchant creation","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972585692,"status":"passed","title":"should include idempotency headers on payment_instruments and merchant creation"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createFormLink"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createFormLink should include idempotency header when creating form links","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972585701,"status":"passed","title":"should include idempotency header when creating form links"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createPaymentInstrument - Token"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createPaymentInstrument - Token should create payment instrument from token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972585704,"status":"passed","title":"should create payment instrument from token"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createPaymentInstrument - Token"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createPaymentInstrument - Token should include postal_code in request when provided","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972585707,"status":"passed","title":"should include postal_code in request when provided"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createPaymentInstrument - Token"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createPaymentInstrument - Token should use provided idempotency key when creating a tokenized payment instrument","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972585710,"status":"passed","title":"should use provided idempotency key when creating a tokenized payment instrument"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createPaymentInstrument - Token"],"duration":35,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createPaymentInstrument - Token should handle token expiration error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585712,"status":"passed","title":"should handle token expiration error"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createPaymentInstrument - Token"],"duration":24,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createPaymentInstrument - Token should handle invalid token error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585747,"status":"passed","title":"should handle invalid token error"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createPaymentInstrumentFromCard"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createPaymentInstrumentFromCard should create payment instrument from raw card data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972585772,"status":"passed","title":"should create payment instrument from raw card data"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createPaymentInstrumentFromCard"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createPaymentInstrumentFromCard should handle invalid card number","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585774,"status":"passed","title":"should handle invalid card number"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createPaymentInstrumentFromCard"],"duration":18,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createPaymentInstrumentFromCard should handle expired card","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585790,"status":"passed","title":"should handle expired card"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createPaymentInstrumentFromBank"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createPaymentInstrumentFromBank should create payment instrument from bank account and include idempotency header","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972585809,"status":"passed","title":"should create payment instrument from bank account and include idempotency header"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","authorizePayment"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests authorizePayment should successfully authorize payment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972585812,"status":"passed","title":"should successfully authorize payment"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","authorizePayment"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests authorizePayment should pass provided idempotency key as header on authorization","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972585815,"status":"passed","title":"should pass provided idempotency key as header on authorization"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","authorizePayment"],"duration":38,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests authorizePayment should handle card declined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585817,"status":"passed","title":"should handle card declined"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","authorizePayment"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests authorizePayment should handle fraud detection failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585856,"status":"passed","title":"should handle fraud detection failure"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","authorizePayment"],"duration":22,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests authorizePayment should handle invalid merchant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585877,"status":"passed","title":"should handle invalid merchant"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","capturePayment"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests capturePayment should successfully capture authorized payment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972585902,"status":"passed","title":"should successfully capture authorized payment"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","capturePayment"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests capturePayment should use provided idempotency key when capturing authorization","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972585916,"status":"passed","title":"should use provided idempotency key when capturing authorization"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","capturePayment"],"duration":38,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests capturePayment should handle capture of expired authorization","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585928,"status":"passed","title":"should handle capture of expired authorization"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","capturePayment"],"duration":31,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests capturePayment should handle capture of already captured authorization","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585966,"status":"passed","title":"should handle capture of already captured authorization"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","capturePayment"],"duration":50,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests capturePayment should handle invalid authorization ID","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972585998,"status":"passed","title":"should handle invalid authorization ID"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","capturePayment"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests capturePayment should capture with partial amount","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972586048,"status":"passed","title":"should capture with partial amount"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","Error Handling"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests Error Handling should handle network errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972586057,"status":"passed","title":"should handle network errors"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","Error Handling"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests Error Handling should handle timeout errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972586074,"status":"passed","title":"should handle timeout errors"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","Error Handling"],"duration":935,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests Error Handling should handle 500 server errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972586091,"status":"passed","title":"should handle 500 server errors"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","Error Handling"],"duration":18,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests Error Handling should handle 401 authentication errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972587026,"status":"passed","title":"should handle 401 authentication errors"},{"ancestorTitles":["Finix Utility Functions - Unit Tests","createTransfer idempotency"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Utility Functions - Unit Tests createTransfer idempotency should use provided idempotency key when creating transfer","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972587044,"status":"passed","title":"should use provided idempotency key when creating transfer"}],"endTime":1764972587294,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/finix-utils.test.ts","startTime":1764972579690,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 1: Reserve Listing"],"duration":894,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 1: Reserve Listing should successfully reserve a listing","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972595028,"status":"passed","title":"should successfully reserve a listing"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 1: Reserve Listing"],"duration":351,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 1: Reserve Listing should fail when listing is already reserved","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972595923,"status":"passed","title":"should fail when listing is already reserved"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 1: Reserve Listing"],"duration":159,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 1: Reserve Listing should fail when buyer tries to reserve their own listing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972596274,"status":"passed","title":"should fail when buyer tries to reserve their own listing"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 1: Reserve Listing"],"duration":37,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 1: Reserve Listing should fail when listing_id is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972596433,"status":"passed","title":"should fail when listing_id is missing"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 1: Reserve Listing"],"duration":40,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 1: Reserve Listing should fail when listing does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972596471,"status":"passed","title":"should fail when listing does not exist"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 2: Get Tokenization Config"],"duration":53,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 2: Get Tokenization Config should successfully get tokenization config","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972596512,"status":"passed","title":"should successfully get tokenization config"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 2: Get Tokenization Config"],"duration":75,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 2: Get Tokenization Config should reuse existing buyer identity","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972596565,"status":"passed","title":"should reuse existing buyer identity"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 2: Get Tokenization Config"],"duration":60,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 2: Get Tokenization Config should fail with invalid order ID","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972596640,"status":"passed","title":"should fail with invalid order ID"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 2: Get Tokenization Config"],"duration":99,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 2: Get Tokenization Config should fail when order does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972596700,"status":"passed","title":"should fail when order does not exist"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 2: Get Tokenization Config"],"duration":131,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 2: Get Tokenization Config should fail when reservation has expired","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972596799,"status":"passed","title":"should fail when reservation has expired"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 2: Get Tokenization Config"],"duration":82,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 2: Get Tokenization Config should fail when buyer does not match order","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972596931,"status":"passed","title":"should fail when buyer does not match order"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":116,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should successfully process payment with token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972597014,"status":"passed","title":"should successfully process payment with token"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":166,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should successfully process payment with card data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972597132,"status":"passed","title":"should successfully process payment with card data"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":959,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should accept card payment with camelCase address fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972597302,"status":"passed","title":"should accept card payment with camelCase address fields"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":164,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should accept card payment with snake_case address fields (replicates reported payload)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972598261,"status":"passed","title":"should accept card payment with snake_case address fields (replicates reported payload)"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":157,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should accept card payment with address nested under card.address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972598429,"status":"passed","title":"should accept card payment with address nested under card.address"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":198,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should block payment when AVS NO_MATCH","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972598586,"status":"passed","title":"should block payment when AVS NO_MATCH"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":78,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should block payment when CVV UNMATCHED","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972598785,"status":"passed","title":"should block payment when CVV UNMATCHED"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":109,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should map Finix authorization FAILED into PaymentError with failure_code and message","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972598863,"status":"passed","title":"should map Finix authorization FAILED into PaymentError with failure_code and message"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":57,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should successfully process payment with bank data (ACH)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972598972,"status":"passed","title":"should successfully process payment with bank data (ACH)"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":58,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should fail when neither token nor card is provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972599029,"status":"passed","title":"should fail when neither token nor card is provided"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":69,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should fail when reservation has expired","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972599088,"status":"passed","title":"should fail when reservation has expired"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":153,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should fail when order is already paid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972599158,"status":"passed","title":"should fail when order is already paid"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":194,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should fail when merchant is not approved","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972599313,"status":"passed","title":"should fail when merchant is not approved"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":129,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should handle Finix authorization failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972599508,"status":"passed","title":"should handle Finix authorization failure"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Step 3: Process Payment - Tokenized"],"duration":63,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Step 3: Process Payment - Tokenized should handle Finix capture failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972599638,"status":"passed","title":"should handle Finix capture failure"},{"ancestorTitles":["Finix Payment Flow - Integration Tests","Complete Payment Flow - End to End"],"duration":98,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Payment Flow - Integration Tests Complete Payment Flow - End to End should complete full payment flow from reserve to payment","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972599702,"status":"passed","title":"should complete full payment flow from reserve to payment"},{"ancestorTitles":["Step 4: Refunds"],"duration":53,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Step 4: Refunds should create a refund (reversal) for a succeeded transfer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972599800,"status":"passed","title":"should create a refund (reversal) for a succeeded transfer"},{"ancestorTitles":["Step 4: Refunds"],"duration":73,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Step 4: Refunds should be idempotent: duplicate refund with same idempotency returns same reversal","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972599854,"status":"passed","title":"should be idempotent: duplicate refund with same idempotency returns same reversal"}],"endTime":1764972601931,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/integration/finix-payment-flow.test.ts","startTime":1764972587306,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Image Upload Endpoints","POST /api/v1/marketplace/listings/:id/images"],"duration":1093,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints POST /api/v1/marketplace/listings/:id/images should upload images successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972615306,"status":"passed","title":"should upload images successfully"},{"ancestorTitles":["Image Upload Endpoints","POST /api/v1/marketplace/listings/:id/images"],"duration":310,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints POST /api/v1/marketplace/listings/:id/images should return 400 if no files uploaded","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972616399,"status":"passed","title":"should return 400 if no files uploaded"},{"ancestorTitles":["Image Upload Endpoints","POST /api/v1/marketplace/listings/:id/images"],"duration":410,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints POST /api/v1/marketplace/listings/:id/images should return 401 if not authenticated","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972616709,"status":"passed","title":"should return 401 if not authenticated"},{"ancestorTitles":["Image Upload Endpoints","POST /api/v1/marketplace/listings/:id/images"],"duration":62,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints POST /api/v1/marketplace/listings/:id/images should return 404 if listing not found","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972617119,"status":"passed","title":"should return 404 if listing not found"},{"ancestorTitles":["Image Upload Endpoints","POST /api/v1/marketplace/listings/:id/images"],"duration":97,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints POST /api/v1/marketplace/listings/:id/images should return 403 if not listing owner","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972617182,"status":"passed","title":"should return 403 if not listing owner"},{"ancestorTitles":["Image Upload Endpoints","POST /api/v1/marketplace/listings/:id/images"],"duration":52,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints POST /api/v1/marketplace/listings/:id/images should return 400 if listing is not in draft status","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972617279,"status":"passed","title":"should return 400 if listing is not in draft status"},{"ancestorTitles":["Image Upload Endpoints","DELETE /api/v1/marketplace/listings/:id/images/:imageKey"],"duration":65,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints DELETE /api/v1/marketplace/listings/:id/images/:imageKey should delete image successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972617331,"status":"passed","title":"should delete image successfully"},{"ancestorTitles":["Image Upload Endpoints","DELETE /api/v1/marketplace/listings/:id/images/:imageKey"],"duration":63,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints DELETE /api/v1/marketplace/listings/:id/images/:imageKey should return 404 if image not found","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972617396,"status":"passed","title":"should return 404 if image not found"},{"ancestorTitles":["Image Upload Endpoints","PATCH /api/v1/marketplace/listings/:id/thumbnail"],"duration":63,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints PATCH /api/v1/marketplace/listings/:id/thumbnail should set thumbnail successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972617460,"status":"passed","title":"should set thumbnail successfully"},{"ancestorTitles":["Image Upload Endpoints","PATCH /api/v1/marketplace/listings/:id/thumbnail"],"duration":44,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints PATCH /api/v1/marketplace/listings/:id/thumbnail should return 400 if imageUrl not provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972617524,"status":"passed","title":"should return 400 if imageUrl not provided"},{"ancestorTitles":["Image Upload Endpoints","PATCH /api/v1/marketplace/listings/:id/thumbnail"],"duration":56,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints PATCH /api/v1/marketplace/listings/:id/thumbnail should return 404 if image not in listing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972617568,"status":"passed","title":"should return 404 if image not in listing"},{"ancestorTitles":["Image Upload Endpoints","PATCH /api/v1/marketplace/listings/:id/images/reorder"],"duration":55,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints PATCH /api/v1/marketplace/listings/:id/images/reorder should reorder images successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972617625,"status":"passed","title":"should reorder images successfully"},{"ancestorTitles":["Image Upload Endpoints","PATCH /api/v1/marketplace/listings/:id/images/reorder"],"duration":45,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints PATCH /api/v1/marketplace/listings/:id/images/reorder should return 400 if imageUrls not array","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972617680,"status":"passed","title":"should return 400 if imageUrls not array"},{"ancestorTitles":["Image Upload Endpoints","PATCH /api/v1/marketplace/listings/:id/images/reorder"],"duration":52,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints PATCH /api/v1/marketplace/listings/:id/images/reorder should return 400 if count mismatch","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972617726,"status":"passed","title":"should return 400 if count mismatch"},{"ancestorTitles":["Image Upload Endpoints","PATCH /api/v1/marketplace/listings/:id/images/reorder"],"duration":49,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Image Upload Endpoints PATCH /api/v1/marketplace/listings/:id/images/reorder should return 400 if URL not found","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764972617779,"status":"passed","title":"should return 400 if URL not found"}],"endTime":1764972618260,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/image-upload.test.ts","startTime":1764972601968,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MerchantOnboarding Model","Schema Validation"],"duration":380,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Schema Validation should create a valid MerchantOnboarding record","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764972623495,"status":"passed","title":"should create a valid MerchantOnboarding record"},{"ancestorTitles":["MerchantOnboarding Model","Schema Validation"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Schema Validation should require form_id and dialist_user_id","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972623875,"status":"passed","title":"should require form_id and dialist_user_id"},{"ancestorTitles":["MerchantOnboarding Model","Schema Validation"],"duration":122,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Schema Validation should enforce unique form_id","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972623884,"status":"passed","title":"should enforce unique form_id"},{"ancestorTitles":["MerchantOnboarding Model","Schema Validation"],"duration":87,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Schema Validation should allow duplicate identity_id (multiple users can have same identity during race conditions)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624007,"status":"passed","title":"should allow duplicate identity_id (multiple users can have same identity during race conditions)"},{"ancestorTitles":["MerchantOnboarding Model","Schema Validation"],"duration":34,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Schema Validation should allow null identity_id (before form completion)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972624094,"status":"passed","title":"should allow null identity_id (before form completion)"},{"ancestorTitles":["MerchantOnboarding Model","State Transitions"],"duration":24,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model State Transitions should update from PENDING to PROVISIONING","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972624129,"status":"passed","title":"should update from PENDING to PROVISIONING"},{"ancestorTitles":["MerchantOnboarding Model","State Transitions"],"duration":18,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model State Transitions should update to APPROVED with merchant_id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624155,"status":"passed","title":"should update to APPROVED with merchant_id"},{"ancestorTitles":["MerchantOnboarding Model","State Transitions"],"duration":59,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model State Transitions should update verification state","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624174,"status":"passed","title":"should update verification state"},{"ancestorTitles":["MerchantOnboarding Model","Queries"],"duration":18,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Queries should find by dialist_user_id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624234,"status":"passed","title":"should find by dialist_user_id"},{"ancestorTitles":["MerchantOnboarding Model","Queries"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Queries should find by identity_id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624253,"status":"passed","title":"should find by identity_id"},{"ancestorTitles":["MerchantOnboarding Model","Queries"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Queries should find by merchant_id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624270,"status":"passed","title":"should find by merchant_id"},{"ancestorTitles":["MerchantOnboarding Model","Queries"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Queries should find by onboarding_state","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624282,"status":"passed","title":"should find by onboarding_state"},{"ancestorTitles":["MerchantOnboarding Model","Form Link Management"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Form Link Management should store and update form link","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972624300,"status":"passed","title":"should store and update form link"},{"ancestorTitles":["MerchantOnboarding Model","Form Link Management"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Form Link Management should detect expired links","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972624312,"status":"passed","title":"should detect expired links"},{"ancestorTitles":["MerchantOnboarding Model","Timestamps"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Timestamps should auto-set createdAt and updatedAt","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624322,"status":"passed","title":"should auto-set createdAt and updatedAt"},{"ancestorTitles":["MerchantOnboarding Model","Timestamps"],"duration":110,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Timestamps should update updatedAt on save","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972624331,"status":"passed","title":"should update updatedAt on save"},{"ancestorTitles":["MerchantOnboarding Model","Timestamps"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Timestamps should set onboarded_at when form completed","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624441,"status":"passed","title":"should set onboarded_at when form completed"},{"ancestorTitles":["MerchantOnboarding Model","Timestamps"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Timestamps should set verified_at when verification succeeds","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624451,"status":"passed","title":"should set verified_at when verification succeeds"},{"ancestorTitles":["MerchantOnboarding Model","Edge Cases"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Edge Cases should handle UPDATE_REQUESTED state","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972624464,"status":"passed","title":"should handle UPDATE_REQUESTED state"},{"ancestorTitles":["MerchantOnboarding Model","Edge Cases"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Edge Cases should handle REJECTED state","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972624476,"status":"passed","title":"should handle REJECTED state"},{"ancestorTitles":["MerchantOnboarding Model","Edge Cases"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model Edge Cases should handle FAILED verification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624484,"status":"passed","title":"should handle FAILED verification"},{"ancestorTitles":["MerchantOnboarding Model","JSON Serialization"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MerchantOnboarding Model JSON Serialization should convert _id to string in JSON","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972624493,"status":"passed","title":"should convert _id to string in JSON"}],"endTime":1764972624981,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/merchantOnboarding.test.ts","startTime":1764972618274,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Finix Webhook Signature Verification","verifyFinixSignature"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification verifyFinixSignature should verify valid HMAC signature","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632148,"status":"passed","title":"should verify valid HMAC signature"},{"ancestorTitles":["Finix Webhook Signature Verification","verifyFinixSignature"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification verifyFinixSignature should reject invalid signature","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632162,"status":"passed","title":"should reject invalid signature"},{"ancestorTitles":["Finix Webhook Signature Verification","verifyFinixSignature"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification verifyFinixSignature should skip verification when secret is empty (dev mode)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632172,"status":"passed","title":"should skip verification when secret is empty (dev mode)"},{"ancestorTitles":["Finix Webhook Signature Verification","verifyFinixSignature"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification verifyFinixSignature should handle missing signature header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632178,"status":"passed","title":"should handle missing signature header"},{"ancestorTitles":["Finix Webhook Signature Verification","verifyBasic"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification verifyBasic should verify valid Basic Auth credentials","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632184,"status":"passed","title":"should verify valid Basic Auth credentials"},{"ancestorTitles":["Finix Webhook Signature Verification","verifyBasic"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification verifyBasic should reject invalid credentials","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632189,"status":"passed","title":"should reject invalid credentials"},{"ancestorTitles":["Finix Webhook Signature Verification","verifyBasic"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification verifyBasic should reject missing authorization header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632193,"status":"passed","title":"should reject missing authorization header"},{"ancestorTitles":["Finix Webhook Processing","onboarding_form.updated"],"duration":21,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing onboarding_form.updated should store identity_id and form_id when form is COMPLETED","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972632200,"status":"passed","title":"should store identity_id and form_id when form is COMPLETED"},{"ancestorTitles":["Finix Webhook Processing","onboarding_form.updated"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing onboarding_form.updated should skip processing when form status is not COMPLETED","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972632221,"status":"passed","title":"should skip processing when form status is not COMPLETED"},{"ancestorTitles":["Finix Webhook Processing","onboarding_form.updated"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing onboarding_form.updated should skip processing when form is created but not completed yet","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972632227,"status":"passed","title":"should skip processing when form is created but not completed yet"},{"ancestorTitles":["Finix Webhook Processing","onboarding_form.updated"],"duration":64,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing onboarding_form.updated should throw error when dialist_user_id is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632237,"status":"passed","title":"should throw error when dialist_user_id is missing"},{"ancestorTitles":["Finix Webhook Processing","onboarding_form.updated"],"duration":21,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing onboarding_form.updated should throw error when user not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632301,"status":"passed","title":"should throw error when user not found"},{"ancestorTitles":["Finix Webhook Processing","merchant.created"],"duration":110,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing merchant.created should update merchant onboarding with merchant details using identity_id","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972632322,"status":"passed","title":"should update merchant onboarding with merchant details using identity_id"},{"ancestorTitles":["Finix Webhook Processing","merchant.created"],"duration":73,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing merchant.created should throw error and mark for retry when merchant onboarding not found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972632432,"status":"passed","title":"should throw error and mark for retry when merchant onboarding not found"},{"ancestorTitles":["Finix Webhook Processing","verification.updated"],"duration":71,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing verification.updated should update merchant onboarding verification status using merchant_identity","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972632506,"status":"passed","title":"should update merchant onboarding verification status using merchant_identity"},{"ancestorTitles":["Finix Webhook Processing","verification.updated"],"duration":75,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing verification.updated should set verified_at to null for failed verification","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632577,"status":"passed","title":"should set verified_at to null for failed verification"},{"ancestorTitles":["Finix Webhook Processing","transfer.created"],"duration":47,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.created should update order with transfer_id when transfer is created","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764972632652,"status":"passed","title":"should update order with transfer_id when transfer is created"},{"ancestorTitles":["Finix Webhook Processing","transfer.created"],"duration":31,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.created should find order by payment_instrument_id if authorization_id not found","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764972632700,"status":"passed","title":"should find order by payment_instrument_id if authorization_id not found"},{"ancestorTitles":["Finix Webhook Processing","transfer.created"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.created should return warning when order not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632732,"status":"passed","title":"should return warning when order not found"},{"ancestorTitles":["Finix Webhook Processing","transfer.created"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.created should return error message when transfer data missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632742,"status":"passed","title":"should return error message when transfer data missing"},{"ancestorTitles":["Finix Webhook Processing","transfer.updated"],"duration":19,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.updated should update order to paid when transfer SUCCEEDED","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764972632749,"status":"passed","title":"should update order to paid when transfer SUCCEEDED"},{"ancestorTitles":["Finix Webhook Processing","transfer.updated"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.updated should update order to cancelled when transfer FAILED","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764972632768,"status":"passed","title":"should update order to cancelled when transfer FAILED"},{"ancestorTitles":["Finix Webhook Processing","transfer.updated"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.updated should update order to cancelled when transfer CANCELED","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972632778,"status":"passed","title":"should update order to cancelled when transfer CANCELED"},{"ancestorTitles":["Finix Webhook Processing","transfer.updated"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.updated should handle PENDING state gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632788,"status":"passed","title":"should handle PENDING state gracefully"},{"ancestorTitles":["Finix Webhook Processing","transfer.updated"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.updated should return error when order not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632800,"status":"passed","title":"should return error when order not found"},{"ancestorTitles":["Finix Webhook Processing","transfer.updated"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing transfer.updated should return error message when transfer data missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632808,"status":"passed","title":"should return error message when transfer data missing"},{"ancestorTitles":["Finix Webhook Processing","unhandled events"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing unhandled events should return unhandled message for unknown entity","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632814,"status":"passed","title":"should return unhandled message for unknown entity"},{"ancestorTitles":["Finix Webhook Processing","Webhook Idempotency"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing Webhook Idempotency should not reprocess already processed webhooks","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632828,"status":"passed","title":"should not reprocess already processed webhooks"},{"ancestorTitles":["Finix Webhook Processing","Webhook Idempotency"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing Webhook Idempotency should retry failed webhooks","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632841,"status":"passed","title":"should retry failed webhooks"},{"ancestorTitles":["Finix Webhook Processing","Webhook Persistence"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing Webhook Persistence should save webhook to FinixWebhookEvent collection","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632851,"status":"passed","title":"should save webhook to FinixWebhookEvent collection"},{"ancestorTitles":["Finix Webhook Processing","Webhook Persistence"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing Webhook Persistence should update webhook status during processing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632857,"status":"passed","title":"should update webhook status during processing"},{"ancestorTitles":["Finix Webhook Processing","Webhook Persistence"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Processing Webhook Persistence should record errors on failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632862,"status":"passed","title":"should record errors on failure"},{"ancestorTitles":["Webhook Queue Integration"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Webhook Queue Integration should enqueue webhook for async processing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632876,"status":"passed","title":"should enqueue webhook for async processing"},{"ancestorTitles":["Webhook Queue Integration"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Webhook Queue Integration should return 200 OK immediately after enqueuing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632884,"status":"passed","title":"should return 200 OK immediately after enqueuing"},{"ancestorTitles":["Webhook Queue Integration"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Webhook Queue Integration should process webhook jobs in background","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972632889,"status":"passed","title":"should process webhook jobs in background"}],"endTime":1764972633129,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/finix-webhook.test.ts","startTime":1764972624989,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Marketplace Listing Creation","POST /api/v1/marketplace/listings"],"duration":226,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Marketplace Listing Creation POST /api/v1/marketplace/listings should create listing successfully for approved merchant","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764972638558,"status":"passed","title":"should create listing successfully for approved merchant"},{"ancestorTitles":["Marketplace Listing Creation","POST /api/v1/marketplace/listings"],"duration":434,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Marketplace Listing Creation POST /api/v1/marketplace/listings should return 403 for non-approved merchant","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972638785,"status":"passed","title":"should return 403 for non-approved merchant"},{"ancestorTitles":["Marketplace Listing Creation","POST /api/v1/marketplace/listings"],"duration":284,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Marketplace Listing Creation POST /api/v1/marketplace/listings should return 403 for user with rejected merchant status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972639220,"status":"passed","title":"should return 403 for user with rejected merchant status"},{"ancestorTitles":["Marketplace Listing Creation","POST /api/v1/marketplace/listings"],"duration":254,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Marketplace Listing Creation POST /api/v1/marketplace/listings should return 403 for user with provisioning merchant status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972639504,"status":"passed","title":"should return 403 for user with provisioning merchant status"},{"ancestorTitles":["Marketplace Listing Creation","POST /api/v1/marketplace/listings"],"duration":64,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Marketplace Listing Creation POST /api/v1/marketplace/listings should return 401 if not authenticated","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972639759,"status":"passed","title":"should return 401 if not authenticated"},{"ancestorTitles":["Marketplace Listing Creation","POST /api/v1/marketplace/listings"],"duration":138,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Marketplace Listing Creation POST /api/v1/marketplace/listings should return 404 if watch not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972639824,"status":"passed","title":"should return 404 if watch not found"}],"endTime":1764972640428,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/marketplace-listing.test.ts","startTime":1764972633142,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["requireCompletedOnboarding middleware"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireCompletedOnboarding middleware should allow users with completed onboarding","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972641979,"status":"passed","title":"should allow users with completed onboarding"},{"ancestorTitles":["requireCompletedOnboarding middleware"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireCompletedOnboarding middleware should reject users with incomplete onboarding","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972641987,"status":"passed","title":"should reject users with incomplete onboarding"},{"ancestorTitles":["requireCompletedOnboarding middleware"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireCompletedOnboarding middleware should reject unauthenticated users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972641991,"status":"passed","title":"should reject unauthenticated users"}],"endTime":1764972642174,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/require-completed-onboarding.test.ts","startTime":1764972640443,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Finix Webhook Signature Verification","Valid Signatures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Valid Signatures should accept valid signature with correct secret","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643791,"status":"passed","title":"should accept valid signature with correct secret"},{"ancestorTitles":["Finix Webhook Signature Verification","Valid Signatures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Valid Signatures should accept signature for empty payload","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643793,"status":"passed","title":"should accept signature for empty payload"},{"ancestorTitles":["Finix Webhook Signature Verification","Valid Signatures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Valid Signatures should accept signature for large payload","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643794,"status":"passed","title":"should accept signature for large payload"},{"ancestorTitles":["Finix Webhook Signature Verification","Valid Signatures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Valid Signatures should accept signature with special characters in payload","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643795,"status":"passed","title":"should accept signature with special characters in payload"},{"ancestorTitles":["Finix Webhook Signature Verification","Invalid Signatures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Invalid Signatures should reject signature with wrong secret","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643796,"status":"passed","title":"should reject signature with wrong secret"},{"ancestorTitles":["Finix Webhook Signature Verification","Invalid Signatures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Invalid Signatures should reject tampered payload","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643797,"status":"passed","title":"should reject tampered payload"},{"ancestorTitles":["Finix Webhook Signature Verification","Invalid Signatures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Invalid Signatures should reject completely invalid signature","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643798,"status":"passed","title":"should reject completely invalid signature"},{"ancestorTitles":["Finix Webhook Signature Verification","Invalid Signatures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Invalid Signatures should reject signature with wrong length","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643799,"status":"passed","title":"should reject signature with wrong length"},{"ancestorTitles":["Finix Webhook Signature Verification","Invalid Signatures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Invalid Signatures should reject signature with incorrect encoding","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643800,"status":"passed","title":"should reject signature with incorrect encoding"},{"ancestorTitles":["Finix Webhook Signature Verification","Missing or Empty Values"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Missing or Empty Values should reject missing signature (undefined)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643802,"status":"passed","title":"should reject missing signature (undefined)"},{"ancestorTitles":["Finix Webhook Signature Verification","Missing or Empty Values"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Missing or Empty Values should reject empty signature string","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643804,"status":"passed","title":"should reject empty signature string"},{"ancestorTitles":["Finix Webhook Signature Verification","Missing or Empty Values"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Missing or Empty Values should reject whitespace-only signature","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643808,"status":"passed","title":"should reject whitespace-only signature"},{"ancestorTitles":["Finix Webhook Signature Verification","Missing or Empty Values"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Missing or Empty Values should skip verification if secret is empty (dev mode)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643809,"status":"passed","title":"should skip verification if secret is empty (dev mode)"},{"ancestorTitles":["Finix Webhook Signature Verification","Missing or Empty Values"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Missing or Empty Values should skip verification if secret is whitespace-only","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643811,"status":"passed","title":"should skip verification if secret is whitespace-only"},{"ancestorTitles":["Finix Webhook Signature Verification","Timing Attack Protection"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Timing Attack Protection should use constant-time comparison (timingSafeEqual)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972643812,"status":"passed","title":"should use constant-time comparison (timingSafeEqual)"},{"ancestorTitles":["Finix Webhook Signature Verification","Timing Attack Protection"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Timing Attack Protection should handle signatures that differ only in last character","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643813,"status":"passed","title":"should handle signatures that differ only in last character"},{"ancestorTitles":["Finix Webhook Signature Verification","Timing Attack Protection"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Timing Attack Protection should handle signatures that differ only in first character","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643814,"status":"passed","title":"should handle signatures that differ only in first character"},{"ancestorTitles":["Finix Webhook Signature Verification","Edge Cases"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Edge Cases should handle payload with null bytes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643816,"status":"passed","title":"should handle payload with null bytes"},{"ancestorTitles":["Finix Webhook Signature Verification","Edge Cases"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Edge Cases should handle payload with line breaks","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643817,"status":"passed","title":"should handle payload with line breaks"},{"ancestorTitles":["Finix Webhook Signature Verification","Edge Cases"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Edge Cases should handle very long secrets","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643818,"status":"passed","title":"should handle very long secrets"},{"ancestorTitles":["Finix Webhook Signature Verification","Edge Cases"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Edge Cases should handle secrets with special characters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643819,"status":"passed","title":"should handle secrets with special characters"},{"ancestorTitles":["Finix Webhook Signature Verification","Edge Cases"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Edge Cases should reject signature case sensitivity","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643820,"status":"passed","title":"should reject signature case sensitivity"},{"ancestorTitles":["Finix Webhook Signature Verification","Real-World Scenarios"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Real-World Scenarios should verify signature for actual Finix webhook payload structure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643821,"status":"passed","title":"should verify signature for actual Finix webhook payload structure"},{"ancestorTitles":["Finix Webhook Signature Verification","Real-World Scenarios"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Real-World Scenarios should reject replay attack with old signature","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643823,"status":"passed","title":"should reject replay attack with old signature"},{"ancestorTitles":["Finix Webhook Signature Verification","Error Handling"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Error Handling should handle and return false for any verification errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643825,"status":"passed","title":"should handle and return false for any verification errors"},{"ancestorTitles":["Finix Webhook Signature Verification","Error Handling"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix Webhook Signature Verification Error Handling should not throw on invalid UTF-8 in signature","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972643826,"status":"passed","title":"should not throw on invalid UTF-8 in signature"}],"endTime":1764972644039,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/finix.signature.test.ts","startTime":1764972642185,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ImageService","Image Constraints"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService Image Constraints should have correct constraint values","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1764972646277,"status":"passed","title":"should have correct constraint values"},{"ancestorTitles":["ImageService","uploadImage"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImage should upload a single image successfully","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"startAt":1764972646279,"status":"passed","title":"should upload a single image successfully"},{"ancestorTitles":["ImageService","uploadImage"],"duration":35,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImage should reject files exceeding max size","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646285,"status":"passed","title":"should reject files exceeding max size"},{"ancestorTitles":["ImageService","uploadImage"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImage should generate thumbnail when requested","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972646321,"status":"passed","title":"should generate thumbnail when requested"},{"ancestorTitles":["ImageService","uploadImage"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImage should not generate thumbnail when not requested","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972646323,"status":"passed","title":"should not generate thumbnail when not requested"},{"ancestorTitles":["ImageService","uploadImage"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImage should upload to correct context path","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972646326,"status":"passed","title":"should upload to correct context path"},{"ancestorTitles":["ImageService","uploadImages"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImages should upload multiple images successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972646332,"status":"passed","title":"should upload multiple images successfully"},{"ancestorTitles":["ImageService","uploadImages"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImages should reject if total size exceeds limit","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646337,"status":"passed","title":"should reject if total size exceeds limit"},{"ancestorTitles":["ImageService","uploadImages"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImages should enforce minimum images for listings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646338,"status":"passed","title":"should enforce minimum images for listings"},{"ancestorTitles":["ImageService","uploadImages"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImages should enforce maximum images for listings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646340,"status":"passed","title":"should enforce maximum images for listings"},{"ancestorTitles":["ImageService","uploadImages"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService uploadImages should allow any count for non-listing contexts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646341,"status":"passed","title":"should allow any count for non-listing contexts"},{"ancestorTitles":["ImageService","deleteImage"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService deleteImage should delete a single image","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646343,"status":"passed","title":"should delete a single image"},{"ancestorTitles":["ImageService","deleteImages"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService deleteImages should delete multiple images","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646346,"status":"passed","title":"should delete multiple images"},{"ancestorTitles":["ImageService","deleteImages"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService deleteImages should handle empty array","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646348,"status":"passed","title":"should handle empty array"},{"ancestorTitles":["ImageService","deleteImages"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService deleteImages should handle large batches (>1000)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646350,"status":"passed","title":"should handle large batches (>1000)"},{"ancestorTitles":["ImageService","imageExists"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService imageExists should return true for existing image","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646353,"status":"passed","title":"should return true for existing image"},{"ancestorTitles":["ImageService","getPresignedUrl"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService getPresignedUrl should generate presigned URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646354,"status":"passed","title":"should generate presigned URL"},{"ancestorTitles":["ImageService","getPresignedUrl"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService getPresignedUrl should accept custom expiration","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646356,"status":"passed","title":"should accept custom expiration"},{"ancestorTitles":["ImageService","getImageMetadata"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService getImageMetadata should return image metadata","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972646358,"status":"passed","title":"should return image metadata"},{"ancestorTitles":["ImageService","S3ClientManager"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService S3ClientManager should create singleton instance","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646360,"status":"passed","title":"should create singleton instance"},{"ancestorTitles":["ImageService","S3ClientManager"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ImageService S3ClientManager should destroy client instance","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972646361,"status":"passed","title":"should destroy client instance"}],"endTime":1764972646520,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/image-service.test.ts","startTime":1764972644050,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Finix Form Initialization"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Finix Form Initialization should initialize CardTokenForm with correct options","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972648168,"status":"passed","title":"should initialize CardTokenForm with correct options"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Finix Form Initialization"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Finix Form Initialization should handle onStateChange callback","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972648171,"status":"passed","title":"should handle onStateChange callback"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Finix Form Initialization"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Finix Form Initialization should enable submit button when form is valid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972648172,"status":"passed","title":"should enable submit button when form is valid"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Finix Form Initialization"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Finix Form Initialization should disable submit button when form is invalid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972648174,"status":"passed","title":"should disable submit button when form is invalid"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Token Submission"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Token Submission should submit form with correct parameters","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972648175,"status":"passed","title":"should submit form with correct parameters"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Token Submission"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Token Submission should handle tokenization success","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972648178,"status":"passed","title":"should handle tokenization success"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Token Submission"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Token Submission should handle tokenization error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972648180,"status":"passed","title":"should handle tokenization error"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Token Submission"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Token Submission should extract token ID from response","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972648182,"status":"passed","title":"should extract token ID from response"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Backend Communication"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Backend Communication should send token to backend","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972648184,"status":"passed","title":"should send token to backend"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Backend Communication"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Backend Communication should handle backend success response","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972648187,"status":"passed","title":"should handle backend success response"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Backend Communication"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Backend Communication should handle backend error response","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972648190,"status":"passed","title":"should handle backend error response"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Complete Payment Flow"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Complete Payment Flow should complete full tokenization and payment flow","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972648192,"status":"passed","title":"should complete full tokenization and payment flow"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Form Validation"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Form Validation should validate card number format","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764972648195,"status":"passed","title":"should validate card number format"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Form Validation"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Form Validation should validate expiration date","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764972648198,"status":"passed","title":"should validate expiration date"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Form Validation"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Form Validation should validate CVV format","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764972648201,"status":"passed","title":"should validate CVV format"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","LocalStorage Management"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests LocalStorage Management should save configuration to localStorage","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972648203,"status":"passed","title":"should save configuration to localStorage"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","LocalStorage Management"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests LocalStorage Management should load configuration from localStorage","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764972648205,"status":"passed","title":"should load configuration from localStorage"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Error Scenarios"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Error Scenarios should handle Finix.js not loaded","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972648208,"status":"passed","title":"should handle Finix.js not loaded"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Error Scenarios"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Error Scenarios should handle expired token from Finix","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972648210,"status":"passed","title":"should handle expired token from Finix"},{"ancestorTitles":["Finix.js Tokenization Flow - Frontend Tests","Error Scenarios"],"duration":35,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Finix.js Tokenization Flow - Frontend Tests Error Scenarios should handle network error during payment","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972648215,"status":"passed","title":"should handle network error during payment"}],"endTime":1764972648394,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/finix-frontend.test.ts","startTime":1764972646530,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Merchant Onboarding","createOnboardingForm"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Merchant Onboarding createOnboardingForm should create an onboarding form for US merchant","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972649976,"status":"passed","title":"should create an onboarding form for US merchant"},{"ancestorTitles":["Merchant Onboarding","createOnboardingForm"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Merchant Onboarding createOnboardingForm should create an onboarding form for Canadian merchant","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972649979,"status":"passed","title":"should create an onboarding form for Canadian merchant"},{"ancestorTitles":["Merchant Onboarding","createOnboardingForm"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Merchant Onboarding createOnboardingForm should handle Finix API errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972649980,"status":"passed","title":"should handle Finix API errors"},{"ancestorTitles":["Merchant Onboarding","createFormLink"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Merchant Onboarding createFormLink should create a new link for existing form","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972649987,"status":"passed","title":"should create a new link for existing form"},{"ancestorTitles":["Merchant Onboarding","createFormLink"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Merchant Onboarding createFormLink should handle custom expiration minutes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764972649988,"status":"passed","title":"should handle custom expiration minutes"},{"ancestorTitles":["Merchant Onboarding","createFormLink"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Merchant Onboarding createFormLink should handle Finix API errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972649990,"status":"passed","title":"should handle Finix API errors"}],"endTime":1764972650189,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/unit/merchant-onboarding.test.ts","startTime":1764972648405,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Test Infrastructure"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Test Infrastructure should run tests successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972651962,"status":"passed","title":"should run tests successfully"},{"ancestorTitles":["Test Infrastructure"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Test Infrastructure should support async/await","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972651964,"status":"passed","title":"should support async/await"},{"ancestorTitles":["Test Infrastructure"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Test Infrastructure should have access to Node.js environment","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764972651965,"status":"passed","title":"should have access to Node.js environment"}],"endTime":1764972652161,"message":"","name":"/home/sajjad-mugdho/Downloads/dialist-api-main/tests/smoke.test.ts","startTime":1764972650197,"status":"passed","summary":""}],"wasInterrupted":false}
